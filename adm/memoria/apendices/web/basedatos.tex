\chapter{Base de datos}
\label{web:basedatos}

Como servidor de base de datos usaremos MySQL.


%%
\section{Instalación}

Para instalar MySQL, haz lo siguiente:

\begin{bashcode}
_: apt-get install mysql-server
\end{bashcode}
\\


%%
\section{Configuración}

Para configurar los ajustes básicos hay que editar el fichero \texttt{/etc/mysql/my.cnf}. Por ejemplo, si vamos a aceptar conexiones de otra máquina, hay que modificar el parámetro \texttt{bind\_address}. En nuestro caso, lo modificaremos para aceptar conexiones del servidor web:

\begin{bashcode}
bind_address = 155.210.155.73
\end{bashcode}
\\

Nota: Si estás usando Ubuntu 10.04 debido a un bug es mejor que comentes toda la línea \url{http://ubuntuforums.org/showthread.php?t=1479310}. Además nosotros usaremos dos servidores web, así que mejor la comentamos:

\begin{bashcode}
#bind_address = 155.210.155.73
\end{bashcode}
\\

Vamos a reiniciar el servidor para que los cambios surtan efecto:

\begin{bashcode}
_: /usr/bin/service mysql restart
\end{bashcode}
\\

Para comprobar que ha sido instalado correctamente, podemos hacer lo siguiente:

\begin{bashcode}
_: mysql -u root -p     # Introduce MySQL's root password
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 34
Server version: 5.1.61-0ubuntu0.10.04.1 (Ubuntu)
...
Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> CREATE DATABASE mydb;
\end{bashcode}
\\


%%
\section{Ejecución}

Para ejecutar el servidor de bases de datos usaremos el programa \texttt{service} localizado en \texttt{/usr/bin/service}. Sirve tanto como para iniciarlo:

\begin{bashcode}
_: /usr/bin/service mysql start
\end{bashcode}
\\

como para pararlo:
\begin{bashcode}
_: /usr/bin/service mysql stop
\end{bashcode}
\\


%%
\section{Versiones}

\begin{tabular}{|c|c|}
   \hline
   Software & Versión \\ \hline
   mysql & 5.1.61 \\ \hline
\end{tabular}

#!/bin/bash
### BEGIN INIT INFO
# Provides:          ruby-web3
# Required-Start:    $syslog
# Required-Stop:     $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Runs the ruby web3 web server.
# Description:       Runs the ruby web3 web server.
### END INIT INFO

start_daemon () {

   nohup start-stop-daemon --start --quiet -m --pidfile /var/run/ruby-web3.pid \
   --exec  /usr/bin/ruby /root/web/web3.rb > /root/web/web3.out 2> /root/web/web3.err &
   RETVAL=$?
}

stop_daemon () {
   start-stop-daemon --stop --quiet --oknodo -m --pidfile /var/run/ruby-web3.pid 
   RETVAL=$?
}


case "$1" in 

start)
start_daemon
;;
stop)
stop_daemon
;;
restart | reload | force-reload )
stop_daemon
start_daemon
;;
esac
